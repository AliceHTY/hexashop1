(window.riCoreJsonpFunction=window.riCoreJsonpFunction||[]).push([[8],{109:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return s});var i={get region(){var e=document.body.classList;for(var t in e){var n=e[t];if("string"==typeof n&&0===n.indexOf("region-"))return n.replace("region-","")}}},a=i.region,s=function(e){return i.region===e};t.a=i},133:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return r}),n.d(t,"a",function(){return o});var i=n(86),a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.f,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},s=function(e){var t=localStorage.getItem(e);if(!t)return null;var n=JSON.parse(t);return(new Date).getTime()>n.expiry?(localStorage.removeItem(e),null):n.value},r=function(e,t){var n=[],r=e.trim();s("user_recent_search",i.g)&&(n=s("user_recent_search",i.g));var o=n.includes(r);o&&"delete"===t&&n.splice(n.indexOf(r),1),"add"===t&&(o?n.unshift(n.splice(n.indexOf(r),1)[0]):n=[r].concat(n).slice(0,8)),a("user_recent_search",n,i.g)},o=function(e){return"undefined"!=typeof window&&localStorage.removeItem(e),null}},147:function(e,t,n){"use strict";t.a=function(){return-1!==document.cookie.indexOf("uprops")}},687:function(e,t,n){"use strict";n.r(t);var i=n(149);n(5);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"bindMenuButton",function(){var e=document.getElementById(t.idNames.howCanWeHelpButton);e&&e.addEventListener("click",function(e){e.preventDefault(),document.getElementsByClassName(t.classNames.howCanWeHelpBtn)[0].click(),setTimeout(function(){document.getElementsByClassName(t.classNames.burgerIcon)[0].click()},410)})}),a(this,"bindBackToTopButton",function(){var e=document.getElementById(t.idNames.backToTop);e&&e.addEventListener("click",function(e){e.preventDefault(),window.RI.UI.scrollToTop(0)})}),a(this,"init",function(){t.bindMenuButton(),t.bindBackToTopButton()}),this.idNames={howCanWeHelpPanel:"how-can-we-help",howCanWeHelpButton:"how-can-we-help-button",backToTop:"back-to-top"},this.classNames={burgerIcon:"header__button--burger-menu",howCanWeHelpBtn:"mega-menu-info__chevron"}},r=n(109),o=n(99),c=n.n(o),l=n(85),u=n.n(l),h=n(385),m=n(386),d=n(107),v=n(106),f=n.n(v);n(29);function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"keyCode",{TAB:9,SHIFT:16,UP_ARROW:38,DOWN_ARROW:40}),g(this,"handleOnKeydown",function(e){if([n.keyCode.TAB,n.keyCode.DOWN_ARROW,n.keyCode.UP_ARROW].indexOf(e.keyCode)>=0&&e.preventDefault(),void 0===n.containerOfElements)return!1;if(e.shiftKey&&e.keyCode===n.keyCode.TAB||e.keyCode===n.keyCode.UP_ARROW){if(n.isFirst())return n.setCurrent(n.inputElement).focus(n.inputElement);if(n.currentElement===n.inputElement){var t=n.previous();return n.setCurrent(t).focus(t.children[0])}var i=n.previous();return n.setCurrent(i).focus(i.children[0])}if([n.keyCode.TAB,n.keyCode.DOWN_ARROW].indexOf(e.keyCode)>=0){if(n.isLast())return n.setCurrent(n.inputElement).focus(n.inputElement);if(n.currentElement===n.inputElement){var a=n.next();return n.setCurrent(a).focus(a.children[0])}var s=n.next();return n.setCurrent(s).focus(s.children[0])}}),this.inputElement=t.inputElement,this.containerOfElements=t.containerOfElements,this.focusClass=t.focusClass,this.currentElement=null,this.currentInputValue=""}return function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(e,[{key:"init",value:function(){return this.bindEvents(),this.currentElement=this.inputElement,this.currentInputValue=this.inputElement.value,this}},{key:"next",value:function(){var e=null;return(e=this.currentElement!==this.inputElement&&this.currentElement?this.currentElement.nextElementSibling:this.containerOfElements.firstElementChild)&&e.classList.contains(this.focusClass)?e:(this.currentElement=e,this.next())}},{key:"previous",value:function(){var e=this.currentElement===this.inputElement?this.containerOfElements.lastElementChild:this.currentElement.previousElementSibling;return e.classList.contains(this.focusClass)?e:(this.currentElement=e,this.previous())}},{key:"bindEvents",value:function(){document.addEventListener("keydown",this.handleOnKeydown)}},{key:"isFirst",value:function(){var e=this.containerOfElements.firstElementChild;return!!e.classList.contains("selected")&&(e.classList.remove("selected"),!0)}},{key:"isLast",value:function(){var e=this.containerOfElements.lastElementChild;return!!e.classList.contains("selected")&&(e.classList.remove("selected"),!0)}},{key:"focus",value:function(e){if(e.scrollIntoView(),e===this.inputElement)this.next().scrollIntoView(),this.inputElement.value=this.currentInputValue;else{var t=function(e){if(e&&e.textContent)return e.textContent.split("\n").filter(function(e){return e&&!e.match(/^\s+$/)}).map(function(e){return e.trim()})}(e).join(" ");this.inputElement.value=t}return this.inputElement.focus()}},{key:"setCurrent",value:function(e){return this.currentElement&&this.currentElement.classList.remove("selected"),this.currentElement=e,this.currentElement!==this.inputElement&&e.classList.add("selected"),this}},{key:"destroy",value:function(){document.removeEventListener("keydown",this.handleOnKeydown)}}]),e}(),b=n(97),E=n(133),w=n(86);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?T(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n?(M(T(e=_(this,L(t).call(this,n))),"setUserSearchStorage",function(e){Object(E.c)("user_search",e,w.f)}),M(T(e),"setSearchTypeStorage",function(){Object(E.c)("search_type","suggested_searches")}),M(T(e),"handleTypeaheadClick",function(t){var n=t.currentTarget.firstElementChild.innerText.replace(/\n/g," ").trim();e.searchInputElement&&(e.searchInputElement.value=n),e.setSearchTypeStorage(),e.setUserSearchStorage(n),Object(E.d)(n,"add")}),e.index=1,e.lastTabIndex=null,e.searchTerm=null,e.searchInputElement=null,e):_(e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,b["a"]),function(e,t,n){t&&k(e.prototype,t),n&&k(e,n)}(t,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.empty(),e&&e.length>0&&(this.searchInputElement=n,this.searchTerm=n?n.value:null,this.trigger(t.event.ON_PRE_RENDER),this.element.insertAdjacentHTML("beforeend",this.createHtmlString(e)),this.trigger(t.event.ON_RENDER),this.bindEvents()),this}},{key:"bindEvents",value:function(){for(var e=this.element.getElementsByClassName("typeahead-search__link"),t=0;t<e.length;t+=1)e[t].addEventListener("click",this.handleTypeaheadClick)}},{key:"empty",value:function(){this.element.innerHTML="",this.trigger(t.event.ON_EMPTY)}},{key:"createHtmlString",value:function(e){return"\n\t\t\t<ul class='typeahead__results'>\n\t\t\t\t".concat(this.createSuggestions(e),"\n\t\t\t</ul>\n\t\t")}},{key:"highlightMatchingSearchText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.searchTerm&&e)try{var t=this.searchTerm.toLowerCase().split(" "),n="";t.forEach(function(e){n+="(".concat(e,")*")});var i=new RegExp(n,"ig"),a=[],s=e.matchAll(i),r=!0,o=!1,c=void 0;try{for(var l,u=s[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var h=l.value;h[0]&&h[0].length>0&&a.push({index:h.index,text:h[0],textLength:h[0].length})}}catch(e){o=!0,c=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw c}}if(a.length>0){for(var m=e,d=a.length-1;d>=0;d--)m="".concat(m.substring(0,a[d].index),'<span class="typeahead__results__keyword--matching-text">').concat(a[d].text,"</span>").concat(m.substring(a[d].index+a[d].textLength));return"<span"!==m.substring(0,5)&&(m="<span>".concat(m.substring(0,1),"</span>").concat(m.substring(1))),"".concat(m)}return"<span>".concat(e,"</span>")}catch(t){return"<span>".concat(e,"</span>")}return"<span>".concat(e,"</span>")}},{key:"createSuggestions",value:function(e){var n=this;return e.map(function(e){return"\n\t\t\t<li class='".concat(t.className.LINK,"'>\n\t\t\t\t<a tabindex='").concat(n.index++,"' href='/search?keyword=").concat(e.replace(/\s/g,"%20"),'\'>\n                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none">\n                        <path\n                        d="M7.642 15.3a7.583 7.583 0 0 0 5.416-2.242 7.658 7.658 0 0 0 0-10.833 7.64 7.64 0 0 0-10.833 0A7.658 7.658 0 0 0 7.642 15.3Zm0-14.467A6.792 6.792 0 0 1 12.5 2.808a6.834 6.834 0 0 1 0 9.692 6.815 6.815 0 0 1-9.65 0A6.833 6.833 0 0 1 7.642.833Z"\n                        fill="#000"\n                        />\n                        <path\n                        d="m13.062 12.458 6.965 6.965-.59.59-6.965-6.965.59-.59Z"\n                        fill="#000"\n                        />\n                    </svg>\n\t\t\t\t\t<span class=\'typeahead__results__keyword\'>\n\t\t\t\t\t\t').concat(n.highlightMatchingSearchText(e[0].toUpperCase()+e.slice(1)),"\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t")}).join("")}}]),t}();O.className={LINK:"typeahead-search__link"},O.event={ON_RENDER:"onRender:typeaheadresults",ON_PRE_RENDER:"onPreRender:typeaheadresults",ON_EMPTY:"onEmpty:typeaheadresults",ON_BLUR_LAST_ITEM:"onBlurLastItem:typeaheadresults",ON_BLUR_FIRST_ITEM:"onBlurFirstItem:typeaheadresults"};var I=O;function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function N(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?D(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n?(j(D(e=N(this,B(t).call(this,n))),"getRecentSearchTerms",function(){var e=Object(E.b)("user_recent_search");return e||[]}),j(D(e),"setUserSearchStorage",function(e){Object(E.c)("user_search",e,w.f)}),j(D(e),"setSearchTypeStorage",function(){Object(E.c)("search_type","recent_searches")}),j(D(e),"handleRecentSearchClick",function(t){var n=t.currentTarget.innerText;""!==n&&(e.setSearchTypeStorage(),e.setUserSearchStorage(n.trim()),Object(E.d)(n.trim(),"add"))}),j(D(e),"handleRecentSearchDelete",function(t){var n=t.currentTarget.previousElementSibling.innerText.trim(),i=Object(E.b)("user_search");""!==n&&(Object(E.d)(n,"delete"),i&&i===n&&e.setUserSearchStorage(""),e.init())}),e.index=1,e.lastTabIndex=null,e):N(e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,b["a"]),function(e,t,n){t&&R(e.prototype,t),n&&R(e,n)}(t,[{key:"init",value:function(){var e=this.getRecentSearchTerms();return this.empty(),e&&e.length>0&&(this.trigger(t.event.ON_PRE_RENDER),this.element.insertAdjacentHTML("beforeend",this.createHtmlString(e)),this.trigger(t.event.ON_RENDER),this.bindEvents()),this}},{key:"bindEvents",value:function(){for(var e=this.element.getElementsByClassName("recent-search__link"),t=0;t<e.length;t+=1)e[t].addEventListener("click",this.handleRecentSearchClick);for(var n=this.element.getElementsByClassName("recent-search__delete"),i=0;i<n.length;i+=1)n[i].addEventListener("click",this.handleRecentSearchDelete)}},{key:"createHtmlString",value:function(){return"\n      <h4 tabindex=\"-1\" class='recent-search__title'>Recent Searches</h4>\n\t\t\t<ul class='recent-search__container'>\n        ".concat(this.createRecentSearchItems(),"\n\t\t\t</ul>\n\t\t")}},{key:"createRecentSearchItems",value:function(){var e=this;return this.getRecentSearchTerms().map(function(t){return'\n        <li class="recent-search__item">\n          <a tabindex="'.concat(e.index++,'" href="/search?keyword=').concat(t.replace(/\s/g,"%20"),'" class="recent-search__link" aria-label="recent search term link">\n              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" aria-hidden="true">\n                <path\n                  d="M7.642 15.3a7.583 7.583 0 0 0 5.416-2.242 7.658 7.658 0 0 0 0-10.833 7.64 7.64 0 0 0-10.833 0A7.658 7.658 0 0 0 7.642 15.3Zm0-14.467A6.792 6.792 0 0 1 12.5 2.808a6.834 6.834 0 0 1 0 9.692 6.815 6.815 0 0 1-9.65 0A6.833 6.833 0 0 1 7.642.833Z"\n                  fill="#000"\n                />\n                <path\n                  d="m13.062 12.458 6.965 6.965-.59.59-6.965-6.965.59-.59Z"\n                  fill="#000"\n                />\n            </svg>\n            <span class="recent-search__keyword">').concat(t,'</span>\n          </a>\n          <button class="recent-search__delete" aria-label="delete ').concat(t,'">\n            <svg width="17" height="20" fill="none" aria-hidden="true">\n              <path\n                d="M8.05 5.458h.833v12.075H8.05V5.458ZM12.075 17.533l.775-12.075h-.833l-.775 12.075h.833ZM4.85 17.533h.833L4.917 5.458h-.834l.767 12.075Z"\n                fill="#000"\n              />\n              <path\n                d="M2.583 20h11.425a1.334 1.334 0 0 0 1.317-1.217l1.008-13.316H15.5l-1.008 13.258a.492.492 0 0 1-.484.442H2.583a.5.5 0 0 1-.491-.45l-1.059-15a.492.492 0 0 1 .125-.367.483.483 0 0 1 .359-.15H5.45a.417.417 0 0 0 .417-.417V.833h5v1.975a.417.417 0 0 0 .416.417h5.209l.075-.833h-4.9V.433A.418.418 0 0 0 11.25 0H5.417A.417.417 0 0 0 5 .417v1.975H1.483A1.317 1.317 0 0 0 .167 3.8l1.066 15a1.325 1.325 0 0 0 1.35 1.2Z"\n                fill="#000"\n              />\n            </svg>\n          </button>\n        </li>\n    ')}).join("")}},{key:"empty",value:function(){this.element.innerHTML="",this.trigger(t.event.ON_EMPTY)}}]),t}();W.event={ON_RENDER:"onRender:recentsearchlist",ON_PRE_RENDER:"onPreRender:recentsearchlist",ON_EMPTY:"onEmpty:recentsearchlist"};var P=W,q=function(){return window?window.location.host.includes(".riverisland.")?w.a.production:w.a.postprod:w.a.production};function H(e,t,n,i,a,s,r){try{var o=e[s](r),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,a)}function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Z(this,"trackSearchStatus",function(e){window.riDigitalData&&window.riDigitalData.add(e?"searchOpen":"searchClose",{search:{view:i.settings.isMobile?"sidebar":"overlay"}})}),Z(this,"handleOnSearch",function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var s=e.apply(t,n);function r(e){H(s,i,a,r,o,"next",e)}function o(e){H(s,i,a,r,o,"throw",e)}r(void 0)})}}(u.a.mark(function e(t){var n,a,s,r,o,c,l,h,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="/system/solrtypeahead?keyword=".concat(t.toLowerCase()),a=!1,window.tcpl&&window.tcpl.publicfeatures&&window.tcpl.publicfeatures.includes("UseFredhopperWeb")&&(r=q(),n="".concat(r,"typeahead?search=").concat(t.toLowerCase()),a=!0),e.prev=3,e.next=6,fetch(n);case 6:if(o=e.sent,i.destroySearchAccessibility(),o.ok){e.next=10;break}throw new Error(o.statusText);case 10:return e.next=12,o.json();case 12:(c=e.sent)&&""!==i.inputElement.value?(a?(l=c.suggestionGroups||[],h=l.find(function(e){return"1keywords"===e.indexName}),m=h.suggestions||[],s=m.map(function(e){return e.searchterm})):s=c.acterms,i.components.searchTypeaheadResults.init(s,i.inputElement),i.initSearchAccessibility("typeahead__results","typeahead-search__link")):""===i.inputElement.value&&i.initSearchAccessibilityForRecentSearches(),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(3),e.abrupt("return",!1);case 19:case"end":return e.stop()}},e,null,[[3,16]])}));return function(t){return e.apply(this,arguments)}}()),Z(this,"handleHasHadInteraction",function(){var e=new CustomEvent("search:interaction");i.formElement.dispatchEvent(e)}),Z(this,"handleInputChange",function(){if(i.hasHadInteraction||i.handleHasHadInteraction(),i.validateInput())return i.enableSubmit(),void i.emptyRecentSearchList();i.inputInitialState()}),Z(this,"handleShowSearch",function(){var e=i.inputElement.value;i.destroySearchAccessibility(),Object(E.a)("search_type"),e&&""!==e&&i.initSearchAccessibility("typeahead__results","typeahead-search__link"),i.open()}),Z(this,"handleCloseSearch",function(e){var t=!1,n=e.target;void 0!==n.classList&&n.classList.contains("search-custom-hide")||("closed:mobileMenu"===e.type&&(i.overlayElement.getElementsByClassName("js-clear-button")[0].classList.remove("active"),t=!0),i.destroySearchAccessibility(),i.close(t))}),Z(this,"handleSearchResultsScroll",function(e){e.target.scrollTop>10&&!i.fixedElementWrapper.classList.contains("scrolling")?i.fixedElementWrapper.classList.add("scrolling"):e.target.scrollTop<10&&i.fixedElementWrapper.classList.remove("scrolling")}),Z(this,"hasPersonalInfo",function(){return!!i.inputElement.value.match(/\S+@\S+\.\S+/)&&(window.location="/c/women",!0)}),Z(this,"handleSubmit",function(e){if(e.preventDefault(),!i.hasPersonalInfo()&&i.validateInput()){if(i.inputElement){var t=i.inputElement.value;i.setUserSearchStorage(t),Object(E.d)(t,"add")}else{var n=document.getElementById("typeahead-search-query").value;i.setUserSearchStorage(document.getElementById("typeahead-search-query").value),Object(E.d)(n,"add")}i.formElement.submit()}}),Z(this,"handleClearInput",function(){i.inputInitialState(),i.inputElement.focus()}),Z(this,"setUserSearchStorage",function(e){Object(E.c)("user_search",e,w.f)}),Z(this,"handleOnKeydown",function(e){e.keyCode===w.b&&i.handleSubmit(e)}),Z(this,"handleOnKeyup",function(e){e.keyCode===w.c&&i.close(!1)}),Z(this,"handleResize",function(){var e=Math.abs(i.windowWidth-window.innerWidth)<30;window.innerWidth>w.e&&i.settings.isMobile||!i.isOpen||e||(i.windowWidth=window.innerWidth,i.close(!0))}),this.components={},this.settings=n,this.hasHadInteraction=!1,this.isOpen=!1,this.windowWidth=window.innerWidth,this.overlayElement=document.getElementById(t.overlayElement),this.overlayElement&&(this.showSearchElement=document.getElementById(t.showSearchElement),this.hideSearchElements=t.hideSearchElements.map(function(e){return document.querySelector("#".concat(e))}),this.searchResultsElement=document.getElementById(t.searchResultsElement),this.recentSearchElement=document.getElementById(t.recentSearchElement),this.inputElement=document.getElementById(t.inputElement),this.fixedElementWrapper=this.overlayElement.getElementsByClassName(t.fixedWrapperElement)[0],this.formElement=document.getElementById(t.formElement),t.submitElement&&(this.submitElement=document.getElementById(t.submitElement)),t.selectRegionElement&&(this.selectRegionElement=document.getElementById(t.selectRegionElement)),t.myAccountElement&&(this.myAccountElement=document.getElementById(t.myAccountElement)))}return function(e,t,n){t&&F(e.prototype,t),n&&F(e,n)}(e,[{key:"init",value:function(){if(this.overlayElement){this.components.overlay=new d.a(this.overlayElement),this.components.searchAccessibility=null;var e=Object(E.b)("user_search");e&&""!==e&&(this.inputElement.value=e,document.getElementsByClassName("js-clear-button")[0].classList.add("active")),this.disableSubmit(),this.initTypeahead(),this.settings.clearInput&&this.initClearInput(),this.bindEvents()}return this}},{key:"bindEvents",value:function(){var e=this;this.showSearchElement&&this.showSearchElement.addEventListener("click",this.handleShowSearch),this.inputElement.addEventListener("input",this.handleInputChange),this.searchResultsElement.addEventListener("scroll",this.handleSearchResultsScroll),this.formElement.addEventListener("submit",this.handleSubmit),this.hideSearchElements.forEach(function(t){t&&t.addEventListener("click",e.handleCloseSearch)}),window.addEventListener("resize",this.handleResize),this.settings.isMobile&&document.addEventListener("closed:mobileMenu",this.handleCloseSearch),this.selectRegionElement&&this.selectRegionElement.addEventListener("click",this.handleCloseSearch),this.myAccountElement&&this.myAccountElement.addEventListener("click",this.handleCloseSearch),this.settings.keyboardEscape&&this.overlayElement.addEventListener("keyup",this.handleOnKeyup),this.overlayElement.addEventListener("keydown",this.handleOnKeydown),this.recentSearchElement&&(this.recentSearchElement.addEventListener("onPreRender:recentsearchlist",function(t){e.components.overlay&&e.components.overlay.element&&e.setOverlayElementHasResults(!0)}),this.recentSearchElement.addEventListener("onEmpty:recentsearchlist",function(t){e.components.overlay&&e.components.overlay.element&&e.setOverlayElementHasResults(!1)})),this.searchResultsElement&&this.searchResultsElement.addEventListener("onPreRender:typeaheadresults",function(t){e.components.overlay&&e.components.overlay.element&&e.setOverlayElementHasResults(!0)})}},{key:"initTypeahead",value:function(){window.tcpl&&window.tcpl.publicfeatures&&window.tcpl.publicfeatures.includes("EnableLocalizeJs")&&Object(r.b)("DE")||(this.components.searchTypeaheadResults=new I(this.searchResultsElement),this.components.typeahead=new m.a(this.inputElement,{autoFocus:this.settings.autoFocus,source:f()(this.handleOnSearch,200)}),this.components.typeahead.init())}},{key:"initRecentSearchList",value:function(){this.destroySearchAccessibility(),this.components.recentSearchList=new P(this.recentSearchElement),this.components.recentSearchList.init()}},{key:"emptyRecentSearchList",value:function(){this.components.recentSearchList&&this.components.recentSearchList.empty()}},{key:"initClearInput",value:function(){var e=document.getElementsByClassName("clear-input-container")[0],t=new h.a(e);e.addEventListener("clear:clearinput",this.handleClearInput),t.init()}},{key:"initSearchAccessibility",value:function(e,t){if(null===this.components.searchAccessibility){var n={inputElement:document.getElementById("typeahead-search-query"),containerOfElements:document.getElementsByClassName(e)[0],focusClass:t};this.components.searchAccessibility=new y(n),this.components.searchAccessibility.init()}}},{key:"destroySearchAccessibility",value:function(){this.components.searchAccessibility&&(this.components.searchAccessibility.destroy(),this.components.searchAccessibility=null)}},{key:"initSearchAccessibilityForRecentSearches",value:function(){this.destroySearchAccessibility(),this.initSearchAccessibility("recent-search__container","recent-search__item")}},{key:"disableSubmit",value:function(){this.submitElement&&(""===this.inputElement.value.trim()||""===Object(E.b)("user_search")&&!Object(E.b)("user_search"))&&(this.submitElement.classList.add("disabled"),this.submitElement.setAttribute("disabled","disabled"))}},{key:"enableSubmit",value:function(){this.submitElement&&(this.submitElement.classList.remove("disabled"),this.submitElement.removeAttribute("disabled"))}},{key:"inputInitialState",value:function(){this.disableSubmit(),this.components.searchTypeaheadResults&&this.components.searchTypeaheadResults.empty(),this.initRecentSearchList(),this.initSearchAccessibilityForRecentSearches()}},{key:"open",value:function(){if(!this.isOpen){this.isOpen=!0,this.components.overlay.show();var e=new CustomEvent("search:show");this.formElement.dispatchEvent(e);var t=Object(E.b)("user_search");t&&""!==t?(this.inputElement.value=t,document.getElementsByClassName("js-clear-button")[0].classList.add("active"),this.emptyRecentSearchList()):(this.inputElement.value="",this.components.recentSearchList?(this.components.recentSearchList.init(),this.initSearchAccessibilityForRecentSearches()):(this.initRecentSearchList(),this.initSearchAccessibilityForRecentSearches())),this.settings.autoFocus&&(this.inputElement.focus(),this.inputElement.blur(),this.inputElement.focus()),document.getElementsByTagName("html")[0].classList.add("search-open"),this.trackSearchStatus(!0),this.components.typeahead.search()}}},{key:"close",value:function(e){if(this.isOpen){this.isOpen=!1,this.components.overlay.hide(e);var t=new CustomEvent("search:hide");this.formElement.dispatchEvent(t),document.getElementsByTagName("html")[0].classList.remove("search-open"),this.disableSubmit(),this.components.searchTypeaheadResults&&this.components.searchTypeaheadResults.empty(),this.emptyRecentSearchList(),this.trackSearchStatus(),this.setOverlayElementHasResults(!1)}}},{key:"setOverlayElementHasResults",value:function(e){e?this.components.overlay.element.classList.add("has-results"):this.components.overlay.element.classList.remove("has-results")}},{key:"validateInput",value:function(){return""!==this.inputElement.value.trim()}}]),e}(),z=n(147),K=function(){if(window.location.host.includes("localhost"))return"localhost";var e=window.location.host.split(".");return".".concat(e[e.length-2],".").concat(e[e.length-1])};function V(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),X(this,"init",function(){i.bindEventListeners(),i.setLoggedInStatus(),i.initSearch(),i.setAnalyticsValues()}),X(this,"bindEventListeners",function(){i.hamburgerBtn.addEventListener("click",i.openMainMenu),i.megaMenuOverlay.addEventListener("click",i.closeMainMenu),i.loopBindEventListeners(i.mainNavigationBackMulitLayer,i.closeSubMenu),i.loopBindEventListeners(i.megaMenuSearchCloseText,i.closeMainMenu),i.searchBtnMultiLayer&&i.searchBtnMultiLayer.addEventListener("click",i.openSearch),i.loopBindEventListeners(i.mainNavigationSubMenuBack,i.closeSubMenu),i.loopBindEventListeners(i.navigationWidgets,i.trackNavigationWidgetClick),i.megaMenuSearchClose.addEventListener("click",i.closeSearch),i.externalSearchBtn.addEventListener("click",i.openExternalSearch),i.loopBindEventListeners(i.mainNavigationItems,i.openSubMenu),i.loopBindEventListeners(i.firstLevelOfItems,i.openMultiLayerSubMenu),i.logOut.addEventListener("click",i.setSDKSyncCookie)}),X(this,"setSDKSyncCookie",function(){document.cookie="shouldSDKSync=true;domain=".concat(K(),";path=/")}),X(this,"getWidgetData",function(e){var t=e.querySelector("h5"),n=t?t.textContent.trim():"",i=e.querySelector(".mega-menu__widget-image"),a=e.querySelector(".mega-menu__widget-link"),s=a?a.href:"",r=e.dataset.widgetHierarchy.split(": "),o=r.length,c=r.splice(0,o-1),l=o<=1?r:c,u="widget";return""!==n&&null===i&&(u="widget_text_only"),""===n&&null!==i&&(u="widget_image_only"),""!==n&&null!==i&&(u="widget_text_and_image"),{navigation:{menuWidget:n,widgetType:u,type:"Mobile",tab:l[0]||"",category:l[1]||"",subcategory:l[2]||"",sub_subcategory:l[3]||"",url:s},menu:{format:"burger",type:"widget"}}}),X(this,"trackNavigationWidgetClick",function(e){var t=e.target.closest("li"),n=i.getWidgetData(t);window.riDigitalData&&window.riDigitalData.add&&window.riDigitalData.add("navigationClick",n)}),X(this,"trackNavigationWidgetImpression",function(e){if(i.mainNavigation.classList.contains("main-navigation--sub-menu-open")){var t=[];t=e?i.mainNavigation.querySelectorAll(".mega-menu__sub-menu--open.mega-menu__sub-menu--active > div > ul > li.widget"):i.mainNavigation.querySelectorAll(".mega-menu__multi-layer-sub-level--open.mega-menu__multi-layer-sub-level--active > ul > li.widget");for(var n=0;n<t.length;n++){var a=i.getWidgetData(t[n]);window.riDigitalData&&window.riDigitalData.add&&window.riDigitalData.add("menuWidgetImpression",a)}}}),X(this,"setLoggedInStatus",function(){if(Object(z.a)())return i.logIn.classList.add("mega-menu-info__log-in--hide"),void i.logOut.classList.remove("mega-menu-info__log-out--hide");i.logOut.classList.add("mega-menu-info__log-out--hide")}),X(this,"openMainMenu",function(){i.mainNavigation.style.display="block",i.mainNavigation.scrollTop=0,c.a.on(),i.outerContainer.classList.add("outer-container--menu-open"),i.megaMenuOverlay.classList.add("mega-menu__overlay--menu-open"),i.screenWidth=window.innerWidth,window.addEventListener("resize",i.resetMenuForDesktop),i.trackNavigationWidgetImpression()}),X(this,"closeMainMenu",function(){c.a.off(),i.outerContainer.classList.remove("outer-container--menu-open"),i.megaMenuOverlay.classList.remove("mega-menu__overlay--menu-open"),setTimeout(function(){i.closeSubMenuMain(),i.resetMultiLayerLevels(),i.closeSearch(),i.mainNavigation.style.display=null},410)}),X(this,"openSubMenu",function(e){if(!(window.innerWidth>w.e)){e.preventDefault();var t=i.findTargetSubMenu(e);if(t){t.style.display="block",t.scrollTop=0;for(var n=t.querySelectorAll(".mega-menu__multi-layer-sub-level"),a=0;a<n.length;a+=1){var s=n[a].getAttribute("data-level");n[a].addEventListener("click",i.openMultiLayerSubMenu),"1"!==s&&(n[a].style.display="none")}var r=i.mainNavigation.scrollTop;i.mainNavigation.classList.add("main-navigation--sub-menu-open"),t.classList.add("mega-menu__sub-menu--open"),t.classList.add("mega-menu__sub-menu--active"),t.style.top="".concat(r,"px"),i.openSubMenus.push(t),i.megaMenuSearch.classList.add("mega-menu-search--sub-menu"),i.trackNavigationWidgetImpression(!0)}}}),X(this,"findTargetSubMenu",function(e){for(var t,n=e.target,i=0;!t&&i<4;){var a=n.querySelector(".mega-menu__sub-menu");a?t=a:(i+=1,n=n.parentElement)}return t}),X(this,"openMultiLayerSubMenu",function(e){if(e.stopPropagation(),!(window.innerWidth>w.e)){var t=e.target,n="IMG"===t.tagName?t.parentElement.nextElementSibling:t.nextElementSibling;if(n&&n.hasAttribute("data-level")){e.preventDefault();var a=t.closest(".mega-menu__multi-layer-sub-level");if(n.style.display="block",n.scrollTop=0,n.classList.add("mega-menu__multi-layer-sub-level--open","mega-menu__multi-layer-sub-level--active"),n&&"2"===n.getAttribute("data-level"))t.closest(".mega-menu__sub-menu").classList.remove("mega-menu__sub-menu--active");if(a){var s=a.scrollTop;n.style.top="".concat(s,"px"),a.classList.remove("mega-menu__multi-layer-sub-level--active")}i.trackNavigationWidgetImpression()}}}),X(this,"closeSubMenu",function(e){if(e){var t=e.target.closest(".mega-menu__multi-layer-sub-level");t?i.closeMultiLayerLevels(t):i.closeSubMenuMain()}}),X(this,"closeMultiLayerLevels",function(e){e.classList.remove("mega-menu__multi-layer-sub-level--open");var t=e.parentElement.closest(".mega-menu__multi-layer-sub-level"),n=e.parentElement.closest(".mega-menu__sub-menu");n&&n.classList.add("mega-menu__sub-menu--active"),t&&t.classList.add("mega-menu__multi-layer-sub-level--active"),i.resetDisplayValue(e)}),X(this,"resetMultiLayerLevels",function(){for(var e=document.querySelectorAll('[class*="mega-menu__multi-layer-sub-level"]'),t=0;t<e.length;t+=1){var n=e[t].getAttribute("data-level");e[t].classList.remove("mega-menu__multi-layer-sub-level--open"),i.resetDisplayValue(e[t]),window.innerWidth>w.e&&"2"===n&&(e[t].style.display="block")}}),X(this,"closeSubMenuMain",function(){if(i.mainNavigation.classList.remove("main-navigation--sub-menu-open"),i.openSubMenus.length>0){for(var e=0;e<i.openSubMenus.length;e+=1)i.openSubMenus[e].classList.remove("mega-menu__sub-menu--open"),i.removeSubMenuTop(i.openSubMenus[e]),i.resetDisplayValue(i.openSubMenus[e]);i.openSubMenus=[]}i.megaMenuSearch.classList.remove("mega-menu-search--sub-menu")}),X(this,"openSearch",function(){i.mainNavigation.classList.add("main-navigation--search-open"),i.megaMenuSearch.classList.add("mega-menu-search--active"),i.searchQuery.focus()}),X(this,"closeSearch",function(){var e=0;i.isExternalSearch&&(i.isExternalSearch=!1,i.closeMainMenu(),e=410),setTimeout(function(){i.mainNavigation.classList.remove("main-navigation--search-open"),i.megaMenuSearch.classList.remove("mega-menu-search--active"),document.dispatchEvent(new CustomEvent("closed:mobileMenu"))},e)}),X(this,"openExternalSearch",function(){i.isExternalSearch=!0,i.openSearch(),i.openMainMenu()}),X(this,"loopBindEventListeners",function(e,t){for(var n=0;n<e.length;n+=1)e[n].addEventListener("click",t)}),X(this,"resetMenuForDesktop",function(){(Math.abs(i.screenWidth-window.innerWidth)>50||window.innerWidth>w.e)&&(window.removeEventListener("resize",i.resetMenuForDesktop),i.closeMainMenu())}),X(this,"setAnalyticsValues",function(){window.innerWidth>w.e||(i.megaMenu.dataset.menuType="mobile")}),X(this,"resetDisplayValue",function(e){return setTimeout(function(){e.style.display=null},410)}),X(this,"removeSubMenuTop",function(e){setTimeout(function(){var t=e;t.classList.contains("mega-menu__sub-menu--info")||(t.style.top=null)},410)}),this.screenWidth=null,this.hamburgerBtn=t,this.mainNavigation=n,this.openSubMenus=[],this.searchInstance=null,this.isExternalSearch=!1,this.outerContainer=document.getElementById("outer-container"),this.navBarContainer=document.querySelector(".nav-bar-container"),this.megaMenuOverlay=document.querySelector(".mega-menu__overlay"),this.mainNavigationItems=this.navBarContainer.querySelectorAll(".main-navigation__item"),this.mainNavigationSubMenuBack=this.navBarContainer.querySelectorAll(".mega-menu__sub-menu .main-navigation__back"),this.mainNavigationBackMulitLayer=this.navBarContainer.querySelectorAll(".mega-menu--multi-layer .main-navigation__back"),this.searchBtnMultiLayer=this.navBarContainer.querySelector(".main-navigation__search-inner.multi-layer .main-navigation__search-text"),this.navigationWidgets=this.navBarContainer.querySelectorAll(".mega-menu__column-item.widget"),this.megaMenuSearch=this.navBarContainer.querySelector(".mega-menu-search"),this.megaMenuSearchClose=this.navBarContainer.querySelector(".mega-menu-search__close"),this.megaMenuSearchCloseText=this.navBarContainer.querySelectorAll(".btn--hide-search.multi-layer"),this.searchQuery=document.getElementById("mm-typeahead-search-query"),this.externalSearchBtn=document.querySelector(".icon__search-button--mobile"),this.megaMenu=this.navBarContainer.querySelector(".mega-menu"),this.logIn=this.navBarContainer.querySelector(".mega-menu-info__log-in"),this.logOut=this.navBarContainer.querySelector(".mega-menu-info__log-out"),this.firstLevelOfItems=this.navBarContainer.querySelectorAll(".mega-menu__multi-layer-level")}return function(e,t,n){t&&V(e.prototype,t),n&&V(e,n)}(e,[{key:"initSearch",value:function(){this.searchInstance=new U({overlayElement:"mm-search-overlay",showSearchElement:"mm-show-search",hideSearchElements:["mm-hide-search"],searchResultsElement:"mm-typeahead-results",inputElement:"mm-typeahead-search-query",fixedWrapperElement:"fixed-wrapper",formElement:"mm-typeahead-input",recentSearchElement:"mm-recent-search-list"},{clearInput:!0,autoFocus:!Object(i.b)(11),isMobile:!0,isRegionUK:Object(r.b)("UK"),keyboardEscape:!1}).init()}}]),e}();function G(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Y(this,"setActiveNavigationItem",function(e){var n=!0,i=e.currentTarget||e.target;if(t.currentActiveItem===i)return!1;t.currentActiveItem&&(t.unsetActiveNavigationItem(),n=!1),t.currentActiveItem=i,t.currentActiveDropdown=t.currentActiveItem.querySelector(t.querySelectors.dropdown),t.currentActiveDropdownContent=t.currentActiveDropdown.querySelector(t.querySelectors.dropdownContent),t.currentActiveDropdown.classList.add("mega-menu__sub-menu--active"),t.currentActiveItem.classList.add("active"),n&&(t.reflow(),t.megaMenu.classList.remove("transition")),t.currentActiveDropdown.classList.add("active"),t.currentActiveDropdownContent.classList.add("active")}),Y(this,"resetMegaMenu",function(){t.backgroundVisible&&t.toggleBackground(),t.currentActiveItem&&t.unsetActiveNavigationItem(),t.currentActiveItem=null,t.currentActiveDropdown=null,t.megaMenu.classList.add("transition"),t.animateBackground=!0}),Y(this,"resetMenuOnContentExit",function(e){t.currentActiveDropdownContent.removeEventListener("mouseleave",t.resetMenuOnContentExit),t.currentActiveDropdownContent.addEventListener("mouseenter",t.resetMenuOnContentEnter),t.contentExitTimeout||(t.contentExitTimeout=setTimeout(function(){e.toElement===t.currentActiveDropdown&&t.resetMegaMenu()},t.settings.dropdownCloseDelay))}),Y(this,"resetMenuOnContentEnter",function(){clearTimeout(t.contentExitTimeout),clearTimeout(t.navigationItemTimeout),t.contentExitTimeout=null,t.navigationItemTimeout=null,t.currentActiveDropdownContent.removeEventListener("mouseenter",t.resetMenuOnContentEnter),t.currentActiveDropdownContent.addEventListener("mouseleave",t.resetMenuOnContentExit)}),Y(this,"onNavigationItemTouchStart",function(e){return!(window.innerWidth<w.e)&&(!(!t.currentActiveItem||t.currentActiveItem!==e.currentTarget)||(e.preventDefault(),t.setActiveNavigationItem(e),void(t.backgroundVisible||t.toggleBackground())))}),Y(this,"onNavigationItemMouseEnter",function(e){t.navigationItemTimeout?(clearTimeout(t.navigationItemTimeout),t.navigationItemTimeout=null,t.onNavigationItemMouseEnter(e)):t.openDropdownWithTimeout(e),null!==t.currentActiveItem&&(t.backgroundVisible||t.toggleBackground())}),Y(this,"onNavigationItemKeyDown",function(e){13===e.keyCode&&t.onNavigationItemTouchStart(e)}),Y(this,"onNavigationItemMouseLeave",function(){null!==t.navigationItemTimeout&&(clearTimeout(t.navigationItemTimeout),t.navigationItemTimeout=null),t.backgroundVisible&&t.toggleBackground()}),Y(this,"onOrientationChange",function(){0===window.orientation&&t.resetMegaMenu()}),Y(this,"onSiteMaskTouch",function(e){e.preventDefault(),t.resetMegaMenu()}),this.querySelectors={navigationID:"main-menu",megaMenu:".mega-menu",navigationItem:".mega-menu__item",dropdown:".mega-menu__sub-menu",dropdownContent:".mega-menu__content",siteMask:".site-container__mask"},this.settings={dropdownCloseDelay:500,itemHoverDelay:300},this.navigation=document.getElementById(this.querySelectors.navigationID),this.navigation&&(this.navigationItems=this.navigation.querySelectorAll(this.querySelectors.navigationItem),this.navigationColumnItems=this.navigation.querySelectorAll(this.querySelectors.navigationColumnItem),this.megaMenu=this.navigation.querySelector(this.querySelectors.megaMenu),this.siteMask=document.querySelector(this.querySelectors.siteMask),this.backgroundVisible=!1,this.currentActiveItem=null,this.currentActiveDropdown=null,this.animateBackground=!0,this.contentExitTimeout=null,this.navigationItemTimeout=null)}return function(e,t,n){t&&G(e.prototype,t),n&&G(e,n)}(e,[{key:"init",value:function(){return this.navigation&&(this.bindEvents(),this.megaMenu.classList.add("mega-menu--fade","transition")),this}},{key:"bindEvents",value:function(){for(var e=0;e<this.navigationItems.length;e+=1)this.navigationItems[e].addEventListener("touchstart",this.onNavigationItemTouchStart),this.navigationItems[e].addEventListener("mouseenter",this.onNavigationItemMouseEnter),this.navigationItems[e].addEventListener("mouseleave",this.onNavigationItemMouseLeave),this.navigationItems[e].addEventListener("keydown",this.onNavigationItemKeyDown);this.navigation&&this.navigation.addEventListener("mouseleave",f()(this.resetMegaMenu,10)),this.siteMask&&this.siteMask.addEventListener("touchstart",this.onSiteMaskTouch),window.addEventListener("orientationchange",this.onOrientationChange)}},{key:"unsetActiveNavigationItem",value:function(){this.currentActiveItem.classList.remove("active"),this.currentActiveDropdownContent.classList.remove("active"),this.currentActiveDropdown.classList.remove("mega-menu__sub-menu--active","active")}},{key:"toggleBackground",value:function(){this.backgroundVisible=!this.backgroundVisible,this.siteMask.style.display="block"===this.siteMask.style.display?"none":"block",this.siteMask.classList.toggle("mega-menu__background"),this.animateBackground&&(this.animateBackground=!1,this.reflow()),this.siteMask.classList.toggle("active")}},{key:"reflow",value:function(){this.navigation.offsetHeight}},{key:"openDropdown",value:function(e){this.setActiveNavigationItem(e),this.navigationItemTimeout=null,this.currentActiveDropdownContent.addEventListener("mouseenter",this.resetMenuOnContentEnter)}},{key:"openDropdownWithTimeout",value:function(e){var t=this;this.navigationItemTimeout=setTimeout(function(){t.openDropdown(e),t.backgroundVisible||t.toggleBackground()},this.settings.itemHoverDelay)}}]),e}();function $(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ee(this,"onTrackedNavigationItemClick",function(e){var n=e.currentTarget,i=n.closest("[data-menu-type]"),a="";i&&(a=i.dataset.menuType);var s="mobile"===a.toLowerCase(),r=n.classList.contains("main-navigation__item"),o="text";n.children&&n.children.length>0&&n.querySelector("img")&&(o="image"),!s&&r&&(o="text");var c=n.dataset.menuHierarchy,l=n.href;if((!n.classList.contains("mega-menu__heading-multi-layer")||"desktop"!==a)&&c){var u=c.split(": ");t.sendTracking(a,u[0],u[1],u[2],u[3],l,o,s)}}),ee(this,"sendTracking",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"desktop",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5?arguments[5]:void 0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"text",o=arguments.length>7?arguments[7]:void 0;window.riDigitalData&&window.riDigitalData.add("navigationClick",{navigation:{type:e.charAt(0).toUpperCase()+e.slice(1),tab:t,category:n,subcategory:i,sub_subcategory:a,url:s},menu:{format:o?"burger":"regular",type:r}})}),this.trackedNavigationLinks=document.querySelectorAll("[data-menu-hierarchy]")}return function(e,t,n){t&&$(e.prototype,t),n&&$(e,n)}(e,[{key:"init",value:function(){this.bindEvents()}},{key:"bindEvents",value:function(){for(var e=0;e<this.trackedNavigationLinks.length;e+=1)this.trackedNavigationLinks[e].addEventListener("click",this.onTrackedNavigationItemClick)}}]),e}();function ne(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ie(this,"swipeLeft",function(){t.currentZone<t.zoneTotal?(t.currentZone++,t.selectNewZone()):2==t.currentZone?(t.currentZone=1,t.carousel.classList.add("view-2msg-post"),t.carousel.classList.remove("view-2"),setTimeout(t.smoothOff,t.timeTilSmoothOff)):(t.currentZone=1,t.carousel.classList.add("view-3msg-post"),t.carousel.classList.remove("view-3"),setTimeout(t.smoothOff,t.timeTilSmoothOff))}),ie(this,"swipeRight",function(){t.currentZone>1?(t.currentZone--,t.selectNewZone()):(t.currentZone=t.zoneTotal,t.carousel.classList.add("view-pre"),t.carousel.classList.remove("view-1"),setTimeout(t.smoothOff,t.timeTilSmoothOff))}),ie(this,"selectNewZone",function(){var e="view-".concat(t.currentZone);t.selectionClasses.forEach(function(e){t.carousel.classList.remove(e)}),t.carousel.classList.add(e)}),ie(this,"smoothOff",function(){t.carousel.classList.remove("transition"),t.fakeLeftOrRight()}),ie(this,"smoothOn",function(){t.carousel.classList.add("transition"),t.selectNewZone()}),this.touchstartX=0,this.touchendX=0,this.leftThreshold=25,this.rightThreshold=-25,this.currentZone=1,this.zoneTotal=0,this.selectionClasses=["view-1","view-2","view-3","view-pre","view-2msg-post","view-3msg-post"],this.carousel=document.getElementById("mobile-info-strip-carousel"),this.gestureZone=document.querySelectorAll(".gesture-zone"),this.slideInterval=!1,this.autoScrollTime=4250,this.timeTilSmoothOff=550,this.timeTilSmoothOn=25}return function(e,t,n){t&&ne(e.prototype,t),n&&ne(e,n)}(e,[{key:"init",value:function(){this.bindEvents()}},{key:"bindEvents",value:function(){var e=this;this.zoneTotal=this.gestureZone.length,this.zoneTotal>1&&(this.gestureZone.forEach(function(t){t.addEventListener("touchstart",function(t){e.touchstartX=t.changedTouches[0].screenX,e.restartAutoScroll(e.slideInterval)},!1),t.addEventListener("touchend",function(n){e.touchendX=n.changedTouches[0].screenX,e.currentZone=t.dataset.zone,e.handleGesture()},!1)}),this.startAutoScroll())}},{key:"startAutoScroll",value:function(){this.slideInterval=setInterval(this.swipeLeft,this.autoScrollTime)}},{key:"restartAutoScroll",value:function(){clearInterval(this.slideInterval),this.startAutoScroll()}},{key:"handleGesture",value:function(){if(this.touchendX<=this.touchstartX){if(this.touchstartX-this.touchendX<this.leftThreshold)return;this.swipeLeft()}if(this.touchendX>=this.touchstartX){if(this.touchstartX-this.touchendX>this.rightThreshold)return;this.swipeRight()}}},{key:"fakeLeftOrRight",value:function(){1===this.currentZone?(this.carousel.classList.remove("view-2msg-post","view-3msg-post"),this.carousel.classList.add("view-pre"),setTimeout(this.smoothOn,this.timeTilSmoothOn)):2===this.currentZone?(this.carousel.classList.remove("view-pre"),this.carousel.classList.add("view-2msg-post"),setTimeout(this.smoothOn,this.timeTilSmoothOn)):(this.carousel.classList.remove("view-pre"),this.carousel.classList.add("view-3msg-post"),setTimeout(this.smoothOn,this.timeTilSmoothOn))}}]),e}();function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),se(this,"init",function(){window.addEventListener("resize",t.handleResize)}),se(this,"hydrateDesktop",function(e){t.isMobile?t.desktopFuncs.push(e):e()}),se(this,"hydrateMobile",function(e){t.isMobile?e():t.mobileFuncs.push(e)}),se(this,"handleResize",function(){t.updateIsMobile()&&(t.isMobile?t.runAllFunctions(t.mobileFuncs):t.runAllFunctions(t.desktopFuncs),window.removeEventListener("resize",t.handleResize))}),se(this,"runAllFunctions",function(e){if(e&&!(e.length<=0))for(var t=0;t<e.length;t+=1)e[t]()}),se(this,"updateIsMobile",function(){return!(t.isMobile&&window.innerWidth<=w.e||!t.isMobile&&window.innerWidth>w.e||(t.isMobile=window.innerWidth<=w.e,0))}),this.isMobile=window.innerWidth<=w.e,this.mobileFuncs=[],this.desktopFuncs=[]};re.init(),re.hydrateMobile(function(){var e=document.getElementById("hamburger"),t=document.querySelector(".main-navigation");e&&t&&new J(e,t).init()}),re.hydrateDesktop(function(){(new Q).init()}),(new te).init(),(new s).init(),new U({overlayElement:"search-overlay",showSearchElement:"show-search",hideSearchElements:["hide-search","hide-search-overlay-bg"],searchResultsElement:"typeahead-results",inputElement:"typeahead-search-query",submitElement:"search-submit",fixedWrapperElement:"fixed-wrapper",formElement:"typeahead-input",selectRegionElement:"region-currency-flag",myAccountElement:"header-my-account",recentSearchElement:"recent-search-list"},{clearInput:!1,autoFocus:!Object(i.b)(11),isMobile:!1,isRegionUK:Object(r.b)("UK"),keyboardEscape:!0}).init(),(new ae).init()},86:function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"i",function(){return a}),n.d(t,"h",function(){return s}),n.d(t,"f",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"t",function(){return c}),n.d(t,"o",function(){return l}),n.d(t,"q",function(){return u}),n.d(t,"p",function(){return h}),n.d(t,"n",function(){return m}),n.d(t,"k",function(){return d}),n.d(t,"l",function(){return v}),n.d(t,"m",function(){return f}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return g}),n.d(t,"j",function(){return y}),n.d(t,"d",function(){return b}),n.d(t,"r",function(){return E}),n.d(t,"v",function(){return w}),n.d(t,"w",function(){return S}),n.d(t,"u",function(){return k}),n.d(t,"s",function(){return _}),n.d(t,"a",function(){return L});var i=768,a=768,s=1200,r=36e4,o=26298e5,c={closeWelcomeMessage:"close:welcomeMessage",openStoreStockChecker:"open:StoreStockChecker",openedStoreStockChecker:"opened:StoreStockChecker",checkAvailabilityStoreStockChecker:"checkAvailability:StoreStockChecker",getDirectionsStoreStockChecker:"getDirections:StoreStockChecker",addedToBasketStoreStockChecker:"addedToBasket:StoreStockChecker",closeStoreStockChecker:"close:StoreStockChecker",searchLocationStoreLocator:"searchLocation:StoreLocator",sizeChangedPDP:"sizeChange:PDP",initWishlist:"initWishlist:UGCOverlay",openBasket:"basket:openBasket"},l=4,u=4,h=3,m=861,d="InStock",v="LowStock",f="OutOfStock",p=27,g=13,y="StyleStudio",b={dev:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBdUL5o7UKZERynWrxTpaM1wU_WoxCJlas&v=quarterly&libraries=geometry,drawing,places",preprod:"https://maps.googleapis.com/maps/api/js?key=AIzaSyACkKA9TyI8ltxMXpZBeBDRxJFouTWiVhE&v=quarterly&libraries=geometry,drawing,places",production:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCebEHvYt0WFlFLg-FE_mDzDiA2t8psksc&v=quarterly&libraries=geometry,drawing,places"},E="Bag",w="Minibag",S={name:"Unlimited Delivery",description:"Unlimited next day delivery for a whole year.",price:"£12.00",removedHeader:"Unlimited Delivery removed",removedContent:"Changed your mind? You can add Unlimited Delivery again from\n    within the checkout"},k="Get the outfit",_={production:"kheb1v-uQ0KTKop1iJmJQw",dev:"R621P6kPRFSzM-CboS0kLA"},L={postprod:"https://api.postprod.web.ri-tech.io/",production:"https://api.riverisland.com/"}}}]);
//# sourceMappingURL=navigation-header-20fdd62c85baa8e0f94d.js.map